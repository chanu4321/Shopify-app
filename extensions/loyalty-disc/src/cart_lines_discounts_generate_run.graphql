query CartInput {
  cart {
    buyerIdentity {
      customer {
        id
        hasAnyTag
      }
    }
    cost {
      subtotalAmount {
        amount
        currencyCode
      }
    }
    lines {
      id
      quantity
      cost {
        subtotalAmount {
          amount
          currencyCode
        }
      }
    }
  }
  discount {
    url: metafield(namespace: "loyalty_app", key: "proxy_base_url") {
      value
    }
    # ADD THIS NEW METAFIELD QUERY TO FETCH THE SHOP DOMAIN
    shop: metafield(namespace: "loyalty_app", key: "shop_domain_key") { # Choose a distinct key, e.g., "shop_domain_key"
      value
    discountClasses
    }
  }
}